# ========================================
# WhatsApp Gateway PaaS - External API Testing
# ========================================
# These are external API endpoints for operational message sending
# Authentication: Bearer token (API Key)
# Base URL: http://localhost:8000

@to = 6287733760363
@baseUrl = http://localhost:8000
@apiKey = wg_s5zYy4bvRYFoFn5uhXajYU2f2HduegZG

# ========================================
# MESSAGE SENDING ENDPOINTS
# ========================================

### Send Text Message
POST {{baseUrl}}/api/sendText
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "{{to}}",
  "message": "Hello from WhatsApp Gateway API!"
}

### Send Image Message
POST {{baseUrl}}/api/sendImage
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890",
  "imageUrl": "https://example.com/image.jpg",
  "caption": "Check out this image!"
}

### Send File/Document Message
POST {{baseUrl}}/api/sendFile
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890",
  "fileUrl": "https://example.com/document.pdf",
  "filename": "important-document.pdf",
  "caption": "Here's the document you requested"
}

### Send Voice Message
POST {{baseUrl}}/api/sendVoice
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890",
  "audioUrl": "https://example.com/voice.mp3"
}

### Send Video Message
POST {{baseUrl}}/api/sendVideo
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890",
  "videoUrl": "https://example.com/video.mp4",
  "caption": "Check out this video!"
}

### Send Location Message
POST {{baseUrl}}/api/sendLocation
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890",
  "latitude": -6.2088,
  "longitude": 106.8456,
  "name": "Jakarta",
  "address": "Jakarta, Indonesia"
}

### Send Contact VCard
POST {{baseUrl}}/api/sendContactVcard
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890",
  "contactName": "John Doe",
  "contactPhone": "+1234567890",
  "contactEmail": "john@example.com",
  "contactOrganization": "Example Corp"
}

### Send Link Message
POST {{baseUrl}}/api/sendLink
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890",
  "url": "https://example.com",
  "text": "Check out this website!"
}

### Send Poll Message
POST {{baseUrl}}/api/sendPoll
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890",
  "question": "What's your favorite color?",
  "options": ["Red", "Blue", "Green", "Yellow"],
  "maxAnswer": 1
}

# ========================================
# TYPING INDICATORS
# ========================================

### Start Typing Indicator
POST {{baseUrl}}/api/startTyping
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890"
}

### Stop Typing Indicator
POST {{baseUrl}}/api/stopTyping
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890"
}

# ========================================
# MESSAGE MANAGEMENT ENDPOINTS
# ========================================

### Delete Message
POST {{baseUrl}}/api/message/3EB0558A09ADB0D63DC7C3/delete
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "delete",
  "phone": "{{to}}"
}

### Delete Message for Everyone
POST {{baseUrl}}/api/message/3EB0558A09ADB0D63DC7C3/delete
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "delete",
  "phone": "{{to}}",
  "forEveryone": true
}

### Unsend Message
POST {{baseUrl}}/api/message/message_id_here/unsend
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "unsend",
  "phone": "6281234567890"
}

### Edit Message
POST {{baseUrl}}/api/message/message_id_here/edit
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "edit",
  "phone": "6281234567890",
  "content": "This is the edited message content"
}

### Star Message
POST {{baseUrl}}/api/message/message_id_here/star
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "star",
  "phone": "6281234567890"
}

### Unstar Message
POST {{baseUrl}}/api/message/message_id_here/unstar
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "unstar",
  "phone": "6281234567890"
}

### Add Reaction to Message
POST {{baseUrl}}/api/message/message_id_here/reaction
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "reaction",
  "phone": "6281234567890",
  "emoji": "üëç"
}

### Mark Message as Read
POST {{baseUrl}}/api/message/message_id_here/read
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "read",
  "phone": "6281234567890"
}

### Pin Message
POST {{baseUrl}}/api/message/3EB021BD584166FB35A63F/pin
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "pin",
  "phone": "6285187002626"
}

### Unpin Message
POST {{baseUrl}}/api/message/message_id_here/unpin
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "unpin",
  "phone": "6285187002626"
}

# ========================================
# OTHER ENDPOINTS
# ========================================

### Mark Message as Seen/Read
POST {{baseUrl}}/api/sendSeen
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "messageId": "message_id_here"
}

### Get Session Status
GET {{baseUrl}}/api/session/status
Authorization: Bearer {{apiKey}}

# ========================================
# ERROR TESTING EXAMPLES
# ========================================

### Invalid Phone Number Format
POST {{baseUrl}}/api/sendText
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "invalid-phone",
  "message": "This should fail validation"
}

### Missing Required Fields
POST {{baseUrl}}/api/sendText
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "to": "6281234567890"
  // Missing "message" field
}

### Invalid Action for Message Management
POST {{baseUrl}}/api/message/message_id_here/invalid_action
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "invalid_action",
  "phone": "6281234567890"
}

### Edit Action Without Content
POST {{baseUrl}}/api/message/message_id_here/edit
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "edit",
  "phone": "6281234567890"
  // Missing "content" field required for edit action
}

### Reaction Action Without Emoji
POST {{baseUrl}}/api/message/message_id_here/reaction
Authorization: Bearer {{apiKey}}
Content-Type: application/json

{
  "action": "reaction",
  "phone": "6281234567890"
  // Missing "emoji" field required for reaction action
}

# ========================================
# NOTES
# ========================================
# 1. Replace {{apiKey}} with your actual API key
# 2. Replace phone numbers with actual WhatsApp numbers
# 3. Replace message_id_here with actual message IDs
# 4. All endpoints require Bearer token authentication
# 5. Phone numbers can be in format: 6281234567890 or 6281234567890@s.whatsapp.net
# 6. Message management endpoints use dynamic URL parameters for messageId and action
# 7. Some actions require specific fields (edit needs content, reaction needs emoji)